{"version":3,"sources":["controller.js"],"names":["System","register","_export","_context","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","MetricsPanelCtrl","_","kbn","echarts","DataProcessor","DataFormatter","_createClass","Controller","setters","_appPluginsSdk","_lodash","_appCoreUtilsKbn","_libsEchartsMin","_libsDark","_styleCss","_data_processor","_data_formatter","execute","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_MetricsPanelCtrl","$scope","$injector","this","console","log","_this2","getPrototypeOf","panelDefaults","IS_UCD","METHODS","ETYPE","url","method","upInterval","format","subTabKey","dataTabIndex","type","typeList","chart","chartList","reserveOption","xAxis","show","option","dataFormat","ww/dd","mm/dd","yyyy/mm","yAxis","series","seriesData","scatterDefault","data","refId","color","grid","legend","tooltip","trigger","axisPointer","textStyle","fontSize","lineHeight","backgroundColor","padding","splitLine","name","nameLocation","defaults","panel","dataFormatter","processor","events","on","onDataReceived","bind","onDataError","onInitEditMode","render","refreshData","dataList","_this3","forEach","scatter","rows","val","k","push","undefined","label","markLine","itemStyle","normal","lineStyle","symbol","rebuildTooltips","refreshed","x","y","formatter","params","mat","seriesName","group","echartsOption","toLower","isUndefined","time","unzip","datapoints","isRebuildOption","obj","callback","refresh","pop","err","addEditorTab","_this4","_this","xmlhttp","window","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","customizeData","JSON","parse","responseText","open","send","$timeout","scope","elem","attrs","ctrl","setHeight","height","isString","parseInt","replace","$panelContainer","style","myChart","resize","clear","setOption","find","init","setTimeout","renderingCompleted","templateUrl"],"mappings":"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","file":"controller.js"}